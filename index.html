<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>hls.js</title>
</head>

<body>
	<center>
		<video allow="autoplay; fullscreen" id="player" autoplay="true" playsinline controls height="95%" width="95%" crossorigin> </video>
	</center>
	<script src="https://cdn.jsdelivr.net/npm/hls.js@latest/dist/hls.min.js"></script>
	<script>
	(function() {
		var video = document.querySelector('#player');
		if(Hls.isSupported()) {
			var hlsURL = decodeURIComponent(window.location.search).replace('?src=', '');
			console.log("Playing..." + "  " + hlsURL);
			var hls = new Hls();
			hls.loadSource(hlsURL);
			hls.attachMedia(video);
			hls.on(Hls.Events.MANIFEST_PARSED, function() {
				video.play();
			});
		}
	})();

	function expListFunc() {
		var mylist = document.getElementById("expList");
		document.getElementById("inputHLS").value = mylist.options[mylist.selectedIndex].value;
	}
	</script>
	<div>
		<h3>Input URL</h3>
		<p> Enter your livestream URL
			<form action="?" method="GET">Select:
				<select id="expList" onchange=expListFunc()>
					<option value="">Example URLs</option>
					<option value="https://nhkworld.webcdn.stream.ne.jp/www11/nhkworld-tv/global/2003458/live.m3u8">NHK World</option>
					<option value="https://d2e1asnsl7br7b.cloudfront.net/7782e205e72f43aeb4a48ec97f66ebbe/index.m3u8">Channel News Asia</option>
				</select>
			</form>
			<br>
			<form action="?" method="GET">
				<input name="src" id="inputHLS" type="url" placeholder="enter URL here" autofocus style="width: 70%">
				<button type="submit">Play this URL</button>
			</form>
		</p>
	</div>
	<!--footer class="footer">
          <a href="//github.com/compliment">@compliment</a> 
      </footer--></body>

</html>
